<!DOCTYPE html>
<html>

    <head>
        <link rel="shortcut icon" href="/static/img/xrcube_logo.ico">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
            rel="stylesheet">
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&amp;display=swap"
            rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
            crossorigin="anonymous">

        <link rel="stylesheet" href="/static/css/ovenspace.css">

        <title>Dashboard</title>
    </head>

    <body>
        <div id="dummy">
            <div id="dashboard" class="row container d-flex flex-column display-panel">
                <div id="general_info" class="container d-flex flex-row justify-content-center">
                    <div class="info container d-flex flex-column align-items-center col-4"
                        height="400">
                        <div class="d-flex flex-column align-items-center pt-4 pb-3"
                            style="background-color: #353d4c; width: 110%;">
                            <h2>3</h2>
                            <p>XR Connections</p>
                        </div>
                    </div>
                    <div class="info container d-flex flex-column align-items-center col-4"
                        height="400">
                        <div class="d-flex flex-column align-items-center pt-4 pb-3"
                            style="background-color: #37c3ca; width: 110%;">
                            <p>Edge GPUs</p>
                            <h2>8</h2>
                        </div>
                    </div>
                    <div class="info container d-flex flex-column align-items-center col-4"
                        height="400">
                        <div class="d-flex flex-column align-items-center pt-4 pb-3"
                            style="background-color: #37c3ca; width: 110%;">
                            <p>Terminal Devices</p>
                            <h2>6</h2>
                        </div>
                    </div>
                </div>
                <div class="container d-flex flex-row">
                    <iframe class="col-6" id='download' height="200" frameborder="0"></iframe>
                    <iframe class="col-6" id='upload' height="200" frameborder="0"></iframe>
                </div>
                <div class="container d-flex flex-row">
                    <iframe class="col-6" id='packet_loss' height="200" frameborder="0"></iframe>
                    <iframe class="col-6" id='latency' height="200" frameborder="0"></iframe>
                </div>
                <script>
                    const protocal = "https";
                    const GRAFANA_HOST = "{{grafana_host}}";
                    const port = "3000";
                    const dashboardId = "b4307069-b390-4c30-adac-e7397c3e672bd"
                    const dashboard_name = "xrcubee"
                    const theme = "{{theme}}"
                    const hours = 6;

                    function get_src(panel_id) {
                        return protocal + "://" + GRAFANA_HOST + ":" + port
                            + "/d-solo/" + dashboardId + "/" + dashboard_name
                            + "?orgId=1&refresh=5s&from=now-" + hours + "h&to=now&theme=" + theme
                            + "&panelId=" + panel_id;
                    }

                    document.getElementById("download").src = get_src(1);
                    document.getElementById("upload").src = get_src(2);
                    document.getElementById("packet_loss").src = get_src(3);
                    document.getElementById("latency").src = get_src(4);
                </script>
            </div>
        </div>
    </body>

</html>
